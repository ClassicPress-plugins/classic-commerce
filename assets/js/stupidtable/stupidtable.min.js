!function(c){c.fn.stupidtable=function(a){return this.each(function(){var n=c(this);a=a||{},a=c.extend({},c.fn.stupidtable.default_sort_fns,a),n.on("click.stupidtable","thead th",function(){var t=c(this),s=0,o=c.fn.stupidtable.dir;t.parents("tr").find("th").slice(0,t.index()+1).each(function(){var t=c(this).attr("colspan")||1;s+=parseInt(t,10)}),s-=1;var d=t.data("sort-default")||o.ASC;t.data("sort-dir")&&(d=t.data("sort-dir")===o.ASC?o.DESC:o.ASC);var r=t.data("sort")||null;null!==r&&(n.trigger("beforetablesort",{column:t.index(),direction:d}),n.css("display"),setTimeout(function(){var e=a[r];n.children("tbody").each(function(t,r){var i=[],n=c(r),a=n.children("tr").not("[data-sort-ignore]");a.each(function(t,r){var n=c(r).children().eq(s),a=n.data("sort-value"),e=void 0!==a?a:n.text();i.push([e,r])}),i.sort(function(t,r){return e(t[0],r[0])}),d!=o.ASC&&i.reverse(),a=c.map(i,function(t){return t[1]}),n.append(a)}),n.find("th").data("sort-dir",null).removeClass("sorting-desc sorting-asc"),t.data("sort-dir",d).addClass("sorting-"+d),n.trigger("aftertablesort",{column:t.index(),direction:d}),n.css("display")},10))})})},c.fn.stupidtable.dir={ASC:"asc",DESC:"desc"},c.fn.stupidtable.default_sort_fns={"int":function(t,r){return parseInt(t,10)-parseInt(r,10)},"float":function(t,r){return parseFloat(t)-parseFloat(r)},string:function(t,r){return t.localeCompare(r)},"string-ins":function(t,r){return t=t.toLocaleLowerCase(),r=r.toLocaleLowerCase(),t.localeCompare(r)}}}(jQuery);